<!-- Clock and Image Section -->
<div class="container mt-4">
  <div class="row mb-4">
    <div class="col-12">
      <div class="card border rounded-4 shadow-sm">
        <div class="card-body text-center position-relative nozoom">
          <img src="assets/images/watch.jpg" alt="image" srcset="" height="360px" class="">

          <div class="clock position-absolute" style="top: 36.2%; left: 62.3%; transform: translate3d(-50%, -50%, 0);">
            <div class="analog-clock">
              <div class="hour hand" [ngStyle]="hourHandStyle"></div>
              <div class="minute hand" [ngStyle]="minuteHandStyle"></div>
              <div class="second hand" [ngStyle]="secondHandStyle"></div>
              <div class="center-circle"></div>
            </div>
          </div>

          <h4 class="mt-2">Welcome to the Page</h4>
        </div>
      </div>
    </div>
  </div>

  <!-- Employee Form and Information Section -->
  <div class="row mb-4">
    <div class="col-md-6">
      <div class="card border rounded-4 shadow-sm">
        <div class="card-body">
          <h5 class="card-title text-center">Attendance Form</h5>
          <form>
            <div class="mb-3">
              <label for="project" class="form-label">Project Name:</label>
              <input type="text" id="project" class="form-control" [(ngModel)]="projectName" name="projectName"
                placeholder="Enter project name" />
            </div>
            <div class="mb-3">
              <label for="task" class="form-label">Task Name:</label>
              <input type="text" id="task" class="form-control" [(ngModel)]="taskName" name="taskName"
                placeholder="Enter task name" />
            </div>
            <div class="d-flex mb-3 gap-2">
              <button type="button" class="btn btn-primary" (click)="startAttendance()" [disabled]="startTime">
                Start
              </button>
              <button type="button" class="btn btn-danger" (click)="endAttendance()" [disabled]="endTime || !startTime">
                End
              </button>
            </div>
            <button type="button" class="btn btn-success" (click)="submitAttendance()">
              Submit
            </button>
          </form>
        </div>
      </div>
    </div>

    <div class="col-md-6">
      <div class="card border rounded-4 shadow-sm">
        <div class="card-title text-center">
          <h5 class="mt-3">Form Value</h5>
        </div>
        <div class="card-body">
          <div class="d-flex mb-4">
            <span class="form-label">Project Name - </span>
            <span>&nbsp; {{projectName}} </span>
          </div>
          <div class="d-flex mb-4">
            <span class="form-label">Task Name - </span>
            <span>&nbsp; {{taskName}} </span>
          </div>
          <div class="d-flex justify-content-between mb-4">
            <div>
              <span class="form-label">Start Time - </span>
              <span>&nbsp; {{startTime?.toLocaleTimeString()}} </span>
            </div>
            <div *ngIf="lastStartTime">
              <span class="form-label">Last Start Time - </span>
              <span>&nbsp; {{lastStartTime.toLocaleTimeString()}} </span>
            </div>
          </div>
          <div class="d-flex justify-content-between mb-4">
            <div>
              <span class="form-label">End Time - </span>
              <span>&nbsp; {{endTime?.toLocaleTimeString()}} </span>
            </div>
            <div *ngIf="lastEndTime">
              <span class="form-label">Last End Time - </span>
              <span>&nbsp; {{lastEndTime.toLocaleTimeString()}} </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Employee Time Tracking Table -->
  <div class="row">
    <div class="col-12">
      <div class="card border rounded-4 shadow-sm">
        <div class="card-body">
          <div class="d-flex justify-content-between">
            <h5 class="card-title">Employee Time Tracking</h5>
            <div class="d-flex cursor-pointer">
              <i class="bi bi-arrow-clockwise" (click)="resetTable()"></i>
            </div>
          </div>
          <table class="table table-striped table-bordered mb-0">
            <thead class="table-dark">
              <tr>
                <th>SR</th>
                <th>Date</th>
                <th>Stellar EMP ID2</th>
                <th>Stellar EMP Name</th>
                <th>Shift Time</th>
                <th>Start Time</th>
                <th>End Time</th>
                <th>Total Time</th>
                <th>Project Name</th>
                <th>Task Name</th>
                <th>Copy</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let record of attendanceData; let i = index">
                <td>{{ i + 1 }}</td>
                <td>{{ record.Date }}</td>
                <td>{{ record['Stellar EMP ID2'] }}</td>
                <td>{{ record['Stellar EMP Name'] }}</td>
                <td>10 AM - 07 PM</td>
                <td>{{ record['Start Time'] }}</td>
                <td>{{ record['End Time'] }}</td>
                <td>{{ record['Total Time'] }}</td>
                <td>{{ record['Project Name'] }}</td>
                <td>{{ record['Task Name'] }}</td>
                <td>
                  <button class="btn btn-outline-secondary btn-sm" (click)="copyData(record)">
                    <i class="bi bi-clipboard"></i>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>



<!-- Bootstrap Modal -->
  <div *ngIf="showPopUp" class="modal fade show d-block" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Abbey</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="closeModal()"></button>
        </div>
        <div class="modal-body d-flex justify-content-center">
          <img src="assets/images/what bro.png" alt="image" srcset="" height="150px" class="d-flex justify-content-center">
        </div>
        <!-- <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" (click)="closeModal()">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div> -->
      </div>
    </div>
  </div>
